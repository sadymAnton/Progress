<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 8.00.6001.22945"></meta></head><body>
<h1>Настройка прав доступа на уровне записей</h1>
<p class="Usual">Помимо ограничений прав доступа на уровне объектов конфигурации, существует <a href="DataProcessor.НастройкиПрограммы.Form.ПараметрыДоступаНаУровнеЗаписей/Help">возможность определять права доступа на уровне записей объектов</a>. Например, к данным по конкретным контрагентам и организациям. В этом случае пользователь сможет работать только с данными (накладными, счетами, регистрами и.т.д.) определенных контрагентов и организаций и не будет иметь доступа к данным других контрагентов и организаций.<br></p>
<p class="Usual">Для каждой информационной базы можно указать будет ли в ней использоваться ограничения доступа на уровне записей или нет.<br></p>
<p class="Usual">Доступ на уровне объектов, который определяется <a href="Catalog.ПрофилиПолномочийПользователей/Help">полномочиями</a> пользователя, имеет более высокий приоритет, чем доступ к записям объектов. Возможность настройки прав доступа к записям объектов определяется для каждого объекта в режиме Конфигуратор. Для тех объектов, для которых такая возможность определена, настройка прав доступа к отдельным записям выполняется в режиме 1С:Предприятие.<br></p>
<h2 class="Usual"><a name="РазделВидыОбъектовДоступа">Виды объектов доступа</a></h2>
<p class="Usual">Доступ на уровне записей определен через виды объектов доступа. Список видов объектов доступа (в скобках указаны соответствующие справочники):</p>
<ul><li>
<div>«Контрагенты» («Контрагенты»)</div>
</li><li>
<div>«Организации» («Организации»)</div>
</li><li>
<div>«Физические лица» («Физические лица»)</div>
</li><li>
<div>«Проекты» («Проекты»)</div>
</li><li>
<div>«Склады («Склады (места хранения)»)</div>
</li><li>
<div>«Кандидаты» («Кандидаты»)</div>
</li><li>
<div>«Заметки» («Типы записей заметок»)</div>
</li><li>
<div>«Подразделения» («Подразделения»)</div>
</li><li>
<div>«Подразделения организаций» («Подразделения организации»)</div>
</li><li>
<div>«Номенклатура (изменение)» («Номенклатура»)</div>
</li><li>
<div>«Спецификации» («Спецификации»)</div>
</li><li>
<div>«Цены номенклатуры» («Типы цен номенклатуры»)</div></li></ul><p class="Usual">Для каждой информационной базы можно указать, какие из видов объектов доступа использовать, а какие – нет.</p>
<p class="Usual">Для следующих видов объектов доступа определены права «чтение» и «запись»:</p>
<ul><li>
<div>Организации</div>
</li><li>
<div>Склады </div>
</li><li>
<div>Подразделения</div>
</li><li>
<div>Подразделения организаций</div>
</li><li>
<div>Проекты </div>
</li><li>
<div>Внешние обработки</div>
</li><li>
<div>Заметки</div>
</li><li>
<div>Кандидаты</div>
</li><li>
<div>Спецификации</div></li></ul><p class="Usual">Права доступа:</p>
<ul><li>
<div>«Чтение» - пользователь будет видеть элемент справочника в списке и сможет открыть его на просмотр, также сможет выбрать его из списка при заполнении реквизитов других объектов. </div>
</li><li>
<div>«Запись» - пользователь сможет изменять </div>
<ul><li>
<div>элементы некоторых справочников - видов объектов доступа (не всех – есть исключения, см. ниже)</div>
</li><li>
<div>данные (документы, регистры, подчиненные справочники), связанные с этими элементами справочников </div></li></ul></li></ul><p class="Usual"><strong>Исключение:</strong> доступ к элементам некоторых справочников – видов объектов доступа – не зависит от права «Запись». Это справочники Организации, Подразделения, Подразделения организаций, Склады, Проекты.<br>Они относятся к объектам НСИ, поэтому менять их может только пользователь с ролью «<a href="CommonForm.ПодборРолейУправляемая/Help">Настройка НСИ</a> …».<br></p>
<p class="Usual"></p>
<p class="Usual">Для вида объекта доступа «Номенклатура (изменение)» право доступа на «запись» определено только на уровне групп справочника «Номенклатура», нет возможности задать право «запись» для отдельного элемента справочника.<br></p>
<p class="Usual"></p>
<table width="95%" bgcolor="#e1fdfd"><tbody><tr><td>
<p>Ограничение доступа на «чтение» справочника «Номенклатура» и связанной с ним информации не предусмотрено, потому что в общем случае неясно, какой доступ должен быть к документу, если список номенклатуры, который есть в документе, содержит и «разрешенные», и «запрещенные» позиции.</p>
<p>Ограничение доступа для справочников «Подразделения» и  «Подразделения организаций» не распространяется на информацию к кадровым данным, по персональным данным сотрудников и данным о начислении зарплаты.</p></td></tr></tbody></table><h2>Области данных</h2>
<p class="Usual">Для следующих видов объектов доступа определены области данных:</p>
<ul><li>
<div>Контрагенты </div>
</li><li>
<div>Физические лица</div>
</li><li>
<div>Цены номенклатуры<br></div></li></ul><p class="Usual">Для вида объекта доступа «Контрагенты» предусмотрены следующие области данных:</p>
<ul><li>Контрагенты (список) - определяет видимость контрагентов в списке справочника «Контрагенты». Зависит от значения флажка в колонке «Видимость в списке». 
</li><li>Контрагенты (доп. информация) - определяет возможность «чтения»/«записи» элемента справочника «Контрагенты» и связанной с ним доп. информации (договоры, контактные лица и т.п.). Зависит от значения флажка в соответствующих колонках «Просмотр доп. информации»/«Редактировании доп. информации». 
</li><li>Контрагенты (данные) - определяет возможность «чтения»/«записи» данных (справочники, документы, регистры), связанных со справочником «Контрагенты». Зависит от значения флажка в колонке «Просмотр данных»/«Редактирование данных». </li></ul><p class="Usual">Для вида объекта доступа «Физические лица» предусмотрены следующие области данных:</p>
<ul><li>Физические лица (список) - определяет видимость физического лица в списке справочника «Физические лица». Зависит от значения флажка в колонке «Видимость в списке». 
</li><li>Физические лица (данные) - определяет возможность «чтения»/«записи» данных (справочники, документы, регистры), связанных со справочником «Физические лица». Зависит от значения флажка в колонке «Просмотр данных»/«Редактирование данных».</li></ul><p>Для вида объекта доступа «Цены номенклатуры» предусмотрены следующие области данных: </p>
<ul><li>Цены компании - определяет возможность «чтения»/«записи» <a href="InformationRegister.ЦеныНоменклатуры/Help">цен номенклатуры компании</a>. 
</li><li>Цены контрагентов - определяет возможность «чтения»/«записи» <a href="InformationRegister.ЦеныНоменклатурыКонтрагентов/Help">цен номенклатуры контрагентов</a>.</li></ul><h2>Группы доступа</h2>
<p class="Usual">Для следующих <a href="#РазделВидыОбъектовДоступа">видов объектов доступа</a> настройка прав выполняется через группы доступа (в скобках указаны названия справочника):</p>
<ul><li>
<div>«Контрагенты» («<a href="Catalog.ГруппыДоступаКонтрагентов/Help">Группы доступа контрагентов</a>»)</div>
</li><li>
<div>«Физические лица» («<a href="Catalog.ГруппыДоступаФизическихЛиц/Help">Группы доступа физических лиц</a>»)</div>
</li><li>
<div>«Кандидаты» («<a href="Catalog.ГруппыЗаявокКандидатов/Help">Группы кандидатов</a>»)</div>
</li><li>
<div>«Спецификации номенклатуры» («<a href="Catalog.НазначенияИспользованияСпецификаций/Help">Назначения использования спецификаций</a>»)</div></li></ul><p class="Usual">Группа доступа указывается для каждого элемента справочника (в специальном реквизите). <br></p>
<h2>Группы пользователей </h2>
<p class="Usual">Права доступа к объектам на уровне записей настраиваются только для групп пользователей, а не для отдельных пользователей.</p>
<p class="Usual">Если в конфигурации <a href="DataProcessor.НастройкиПрограммы.Form.ПараметрыДоступаНаУровнеЗаписей/Help">используются ограничения доступа на уровне записей</a>, то каждого пользователя необходимо включить в одну из групп.</p>
<p class="Usual"></p>
<table width="95%" bgcolor="#ffe4e1"><tbody><tr><td>
<p><strong>ВАЖНО!</strong> <br>Пользователи, которые не включены в какую-либо группу, не смогут работать с теми объектами, доступ к которым определяется на уровне записей.<br>Это относится ко <strong>всем объектам</strong> – независимо от того, используются ли соответствующие виды объектов доступа или нет. </p></td></tr></tbody></table><p class="Usual">Если пользователь входит в несколько групп, у которых разные настройки прав доступа на уровне записей, то доступность объекта для пользователя будет определяться объединением настроек от нескольких групп пользователей по «ИЛИ».</p>
<p class="Usual"></p>
<table width="95%" bgcolor="#ffe4e1"><tbody><tr><td><strong>ВАЖНО!</strong> <br>Включение пользователя в большое количество групп может приводить к падению быстродействия. Поэтому не стоит включать пользователя в большое количество групп. </td></tr></tbody></table><h2>Доступ к пустому значению</h2>
<p class="Usual">В некоторых случаях следует для вида доступа предоставлять доступ к пустому значению: чтобы пользователю были доступны те объекты, у которых не заполнены реквизиты, соответствующие видам объектов доступа.</p>
<p class="Usual"><strong>Пример</strong>: Документ «Приходный ордер на товары» ограничен по видам объектов доступа «Контрагенты», «Организации», «Склады».</p>
<p class="Usual">Если для вида доступа «Контрагенты» предоставить доступ к пустому значению, то пользователь увидит документы, в которых реквизит «Контрагент» не заполнен.</p>
<h2>Доступ к элементу справочника или к группе</h2>
<p class="Usual">В зависимости от того, к чему настраивается доступ - к элементу справочника или к группе, настройка действует либо на сам элемент, либо на подчиненные группе.</p>
<p class="Usual">Согласно этому, в форме «Настройка прав доступа» в колонке «Вид наследования прав доступа иерархических справочников» устанавливаются следующие значения:</p>
<ul><li>
<div>Только для текущего права – для элемента справочника, права действуют на указанный элемент</div>
</li><li>
<div>Распространить на подчиненных – для группы справочника, права действуют на все подчиненные элементы</div></li></ul></body></html>