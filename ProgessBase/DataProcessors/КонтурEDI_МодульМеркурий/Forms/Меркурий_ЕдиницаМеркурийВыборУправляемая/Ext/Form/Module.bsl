&НаСервере
Перем ОбработкаОбъект;
Перем ОснМодуль;

&НаСервере
//инициализация модуля и его экспортных функций
Функция МодульОбъекта()

	Если ОбработкаОбъект=Неопределено Тогда
		
		ОбработкаОбъект = РеквизитФормыВЗначение("Объект");
		ОбработкаОбъект.Инициализировать(ОсновнойМодуль());
				
	КонецЕсли;	
	
	Возврат ОбработкаОбъект;
	
КонецФункции

&НаСервере
Функция ОсновнойМодуль()
	Если ОснМодуль = Неопределено Тогда
		ОснМодуль = ПолучитьИзВременногоХранилища(Параметры.АдресХранилища).ОбработкаОбъект;
	КонецЕсли;
	Возврат ОснМодуль;
КонецФункции

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ЗначениеВРеквизитФормы(МодульОбъекта().ПолучитьКлассификаторЕдиницИзмеренияМеркурий(),"ЕдиницыМеркурий");
		
КонецПроцедуры

&НаКлиенте
Процедура ЕдиницыМеркурийВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	СпПараметров = Новый Структура;
	СпПараметров.Вставить("GUID",Элемент.ТекущиеДанные.GUID);
	СпПараметров.Вставить("Наименование",Элемент.ТекущиеДанные.Наименование);
	Закрыть(СпПараметров);
КонецПроцедуры
