
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	СтруктураСертификата = Параметры.СтруктураСертификата;
	Отпечаток = Параметры.Отпечаток;
	
	УстановившийПодпись = Параметры.УстановившийПодпись;
	Комментарий  = Параметры.Комментарий;
	АдресПодписи = Параметры.АдресПодписи;
	ДатаПодписи  = Параметры.ДатаПодписи;
	
	Если Параметры.Свойство("АдресСертификата") Тогда
		АдресСертификата = Параметры.АдресСертификата;
	КонецЕсли;	
	
	КомуВыдан = СтруктураСертификата.КомуВыдан;
	
КонецПроцедуры

&НаКлиенте
Процедура Сохранить(Команда)
	ЭлектроннаяЦифроваяПодписьКлиент.СохранитьПодпись(АдресПодписи);
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьСертификат(Команда)
	ЭлектроннаяЦифроваяПодписьКлиент.ОткрытьСертификатПоОтпечаткуИАдресу(Отпечаток, АдресСертификата);
КонецПроцедуры
