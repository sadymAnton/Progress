////////////////////////////////////////////////////////////////////////////////
// Вспомогательные процедуры, функции

////////////////////////////////////////////////////////////////////////////////
// Процедуры, функции объекта

////////////////////////////////////////////////////////////////////////////////
// Процедуры, функции для работы формы 

#Если ТолстыйКлиентОбычноеПриложение Тогда

Процедура ВыполнитьДополнительныеДействия(Кнопка, ЭтаФорма, ЭтотОбъект) Экспорт
	
	Если Кнопка.Имя = "Мероприятие" Тогда
		
		ПрохождениеКурсаОбученияДополнительный.СобытиеПоКнопкеМероприятие(ЭтаФорма, ЭтотОбъект);
				
	ИначеЕсли Кнопка.Имя = "Занятость" Тогда	
		
		ПрохождениеКурсаОбученияДополнительный.СобытиеПоКнопкеЗанятость(ЭтаФорма, ЭтотОбъект);
		
	КонецЕсли;
	
КонецПроцедуры

Процедура УстановитьВидимостьПоУчетнойПолитике(мМассивЭУ) Экспорт
	
	РаботаСДиалогамиПереопределяемый.УстановитьВидимостьЭУПоУчетнойПолитикеПоПерсоналу(мМассивЭУ,глЗначениеПеременной("глУчетнаяПолитикаПоПерсоналу"));
	
КонецПроцедуры
	
Процедура ПриОткрытиФормыДополнительно(ЭтаФорма, ЭтотОбъект, ДополнительныеДействия) Экспорт
	
	// Изменение заголовка колонки
	ЭтаФорма.ЭлементыФормы.ОбучающиесяРаботники.Колонки.Сотрудник.ТекстШапки = "Работник";
	
	// Создание подменю Организация обучения
	ЭтаФорма.ЭлементыФормы.ДействияФормы.Кнопки.Вставить(13,"РазделительОрганизация",ТипКнопкиКоманднойПанели.Разделитель);
	ЭтаФорма.ЭлементыФормы.ДействияФормы.Кнопки.Вставить(14,"ОрганизацияОбучения",ТипКнопкиКоманднойПанели.Подменю,"Организация обучения");
	
	// Добавление кнопки Мероприятия
	Если ЭтотОбъект.Мероприятие.Пустая() Тогда
		ТекстЗаголовка = "Создать мероприятие";
	Иначе
		ТекстЗаголовка = "Открыть мероприятие";
	КонецЕсли;

	ЭтаФорма.ЭлементыФормы.ДействияФормы.Кнопки.ОрганизацияОбучения.Кнопки.Добавить("Мероприятие", ТипКнопкиКоманднойПанели.Действие, ТекстЗаголовка, ДополнительныеДействия);
	
	// Добавление кнопки Мероприятия
	Если ЭтотОбъект.ДокументУчастияВМероприятии.Пустая() Тогда
		ТекстЗаголовка = "Запланировать занятость";
	Иначе
		ТекстЗаголовка = "Открыть занятость";
	КонецЕсли;

	ЭтаФорма.ЭлементыФормы.ДействияФормы.Кнопки.ОрганизацияОбучения.Кнопки.Добавить("Занятость", ТипКнопкиКоманднойПанели.Действие, ТекстЗаголовка, ДополнительныеДействия);
	
КонецПроцедуры

Функция ИсточникЗаполненияСотрудников() Экспорт
	
	Возврат "Работники";
	
КонецФункции

#КонецЕсли
