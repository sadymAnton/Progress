<?xml version="1.0" encoding="UTF-8"?>
<Rights xmlns="http://v8.1c.ru/8.2/roles" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="Rights" version="2.4">
	<setForNewObjects>false</setForNewObjects>
	<setForAttributesByDefault>true</setForAttributesByDefault>
	<independentRightsOfChildObjects>false</independentRightsOfChildObjects>
	<object>
		<name>InformationRegister.ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя</name>
		<right>
			<name>Read</name>
			<value>true</value>
		</right>
		<right>
			<name>Update</name>
			<value>true</value>
		</right>
		<right>
			<name>View</name>
			<value>true</value>
		</right>
		<right>
			<name>Edit</name>
			<value>true</value>
		</right>
	</object>
	<object>
		<name>InformationRegister.ШтатноеРасписаниеОрганизаций</name>
		<right>
			<name>Read</name>
			<value>true</value>
			<restrictionByCondition>
				<condition>ТекущаяТаблица ИЗ РегистрСведений.ШтатноеРасписаниеОрганизаций  КАК ТекущаяТаблица
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ Различные
			ШтатноеРасписаниеОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ЛОЖЬ КАК Запрещено,
			Сер.КолВо КАК ПроверкаРазрешено,
			ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Доступность КАК Разрешено,
			ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Пользователь КАК ПользовательДоступа,
			Сер.КолВо КАК Проверка
		ИЗ
			РегистрСведений.ШтатноеРасписаниеОрганизаций КАК ШтатноеРасписаниеОрганизаций
				ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя КАК ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя
				ПО ШтатноеРасписаниеОрганизаций.ПодразделениеОрганизации = ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Подразделение
				ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ЕСТЬNULL(КОЛИЧЕСТВО(ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Доступность), 0) КАК КолВо
				ИЗ
					РегистрСведений.ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя КАК ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя
				ГДЕ
					ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Доступность = ИСТИНА
					И ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Пользователь = &amp;ТекущийПользователь) КАК Сер
				ПО (ИСТИНА)) КАК Ограничения
		ПО (ВЫБОР
				КОГДА Ограничения.Проверка &gt; 0
					ТОГДА ТекущаяТаблица.ПодразделениеОрганизации = Ограничения.ПодразделениеОрганизации
				ИНАЧЕ ТекущаяТаблица.ПодразделениеОрганизации = Ограничения.ПодразделениеОрганизации
			КОНЕЦ)
Где
ВЫБОР
				КОГДА Ограничения.Проверка &gt; 0
					ТОГДА	Ограничения.Разрешено = ИСТИНА
							И Ограничения.ПользовательДоступа = &amp;ТекущийПользователь
				ИНАЧЕ  Истина
						КОНЕЦ			</condition>
			</restrictionByCondition>
		</right>
		<right>
			<name>Update</name>
			<value>true</value>
			<restrictionByCondition>
				<condition>ТекущаяТаблица ИЗ РегистрСведений.ШтатноеРасписаниеОрганизаций  КАК ТекущаяТаблица
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ Различные
			ШтатноеРасписаниеОрганизаций.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
			ЛОЖЬ КАК Запрещено,
			Сер.КолВо КАК ПроверкаРазрешено,
			ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Доступность КАК Разрешено,
			ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Пользователь КАК ПользовательДоступа,
			Сер.КолВо КАК Проверка
		ИЗ
			РегистрСведений.ШтатноеРасписаниеОрганизаций КАК ШтатноеРасписаниеОрганизаций
				ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя КАК ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя
				ПО ШтатноеРасписаниеОрганизаций.ПодразделениеОрганизации = ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Подразделение
				ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
					ЕСТЬNULL(КОЛИЧЕСТВО(ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Доступность), 0) КАК КолВо
				ИЗ
					РегистрСведений.ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя КАК ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя
				ГДЕ
					ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Доступность = ИСТИНА
					И ПРГ_ОграничениеШтаткиПоПодразделениямДляПользователя.Пользователь = &amp;ТекущийПользователь) КАК Сер
				ПО (ИСТИНА)) КАК Ограничения
		ПО (ВЫБОР
				КОГДА Ограничения.Проверка &gt; 0
					ТОГДА ТекущаяТаблица.ПодразделениеОрганизации = Ограничения.ПодразделениеОрганизации
				ИНАЧЕ ТекущаяТаблица.ПодразделениеОрганизации = Ограничения.ПодразделениеОрганизации
			КОНЕЦ)
Где
ВЫБОР
				КОГДА Ограничения.Проверка &gt; 0
					ТОГДА	Ограничения.Разрешено = ИСТИНА
							И Ограничения.ПользовательДоступа = &amp;ТекущийПользователь
				ИНАЧЕ  Истина
						КОНЕЦ			</condition>
			</restrictionByCondition>
		</right>
		<right>
			<name>View</name>
			<value>true</value>
		</right>
		<right>
			<name>Edit</name>
			<value>true</value>
		</right>
	</object>
	<object>
		<name>Configuration.УправлениеПроизводственнымПредприятием</name>
		<right>
			<name>ThinClient</name>
			<value>true</value>
		</right>
		<right>
			<name>WebClient</name>
			<value>true</value>
		</right>
		<right>
			<name>SaveUserData</name>
			<value>true</value>
		</right>
		<right>
			<name>Output</name>
			<value>true</value>
		</right>
	</object>
</Rights>